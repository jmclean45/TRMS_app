<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Events</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
	integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
	crossorigin="anonymous">
</head>
<body onload="viewE();" style="background-color: #e5e4e2"> 
	<div class=container-fluid
		style="padding: 30px; color: #553119;border: 2px solid; background-color: #ffc107">
		<h1 style="font-size:60px;font-style:bold" class=text-center>Elligible Events</h1>
	</div>
	
	
	

	 <div class="container-fluid">
        <table class="table table-striped">
			<tr>
				<th>Event ID:</th>
				<th>Start Date</th>
				<th>Type</th>
				<th>Cost</th>
				<th>Overview</th>
				<th>Location</th>
			</tr>
			<tbody id="myEvs">
			<tr></tr>
			</tbody>
			

		</table>
		</div>
		
</body>

<script>

	
	function viewE() {
		console.log("Loading Events");
		let xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				console.log("Successful Call");
				console.log(this.responseText);
				events = JSON.parse(this.responseText);
				for (i = 0; i < events.length; i++) {
					
					 var x=document.getElementById('myEvs').insertRow(0);
					 var y=x.insertCell(0);
					 var b=x.insertCell(1);
					 var c=x.insertCell(2);
					 var d=x.insertCell(3);
					 var e=x.insertCell(4);
					 var f=x.insertCell(5);
					 y.innerHTML=events[i].ev_id;
					 b.innerHTML=events[i].start_date;
					 c.innerHTML=events[i].ev_type;
					 d.innerHTML=events[i].ev_cost;
					 e.innerHTML=events[i].overview;
					 f.innerHTML=events[i].location;
					 
					
					
					}

			}
		}
		url = "http://localhost:8080/TRMS-App/viewE.do"

		console.log(url);
		xhttp.open("GET", url, true);
		//Step 4
		xhttp.send();
	}
</script>
</html>